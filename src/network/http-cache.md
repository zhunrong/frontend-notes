# HTTP 缓存

通过合理利用 HTTP 缓存，可以极大的提升 Web 应用的访问速度，同时也能有效降低服务器的负载。

当客户端向服务端请求资源时，客户端可以首先检查本地缓存中是否存在资源的缓存，然后再决定是否向服务端发起请求。HTTP 缓存分为**强缓存**和**协商缓存**，在实际应用中是通过 HTTP 的头部字段来决定具体实施的缓存策略。

## 强缓存

要采用**强缓存**，服务端返回资源时要携带响应头 **Cache-Control** 并且值要满足：

```shell
Cache-Control: max-age=<seconds> # <seconds> 表示缓存的有效时长（秒）
```

客户端再次请求同样的资源时，会判断当前时间距离缓存时间是否在有效期内，如果是则直接使用本地缓存，不向服务端发出真实的请求，但是对于客户端仍然像是一次完整的请求并且 HTTP 状态码为 200；如果判断超出缓存有效期，则降级到**协商缓存**。

## 协商缓存

要采用**协商缓存**，服务端返回资源时要携带响应头 **Cache-Control** 并且值要满足：

```
Cache-Control: no-cache
```

另外还有2组与**协商缓存**相关的头部字段：

1. **ETag** / **If-None-Match**
2. **Last-Modified** / **If-Modified-Since**