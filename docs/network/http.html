<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTP | Frontend Notes</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/frontend-notes/logo.jpg">
    <link rel="manifest" href="/frontend-notes/manifest.json">
    <meta name="description" content="前端知识点">
    <meta name="theme-color" content="#3eaf7c">
    
    <link rel="preload" href="/frontend-notes/assets/css/0.styles.23a50fce.css" as="style"><link rel="preload" href="/frontend-notes/assets/js/app.814f50f7.js" as="script"><link rel="preload" href="/frontend-notes/assets/js/2.ef01d5d6.js" as="script"><link rel="preload" href="/frontend-notes/assets/js/34.b4b1f706.js" as="script"><link rel="preload" href="/frontend-notes/assets/js/7.1994cef1.js" as="script"><link rel="preload" href="/frontend-notes/assets/js/3.7cfb19be.js" as="script"><link rel="prefetch" href="/frontend-notes/assets/js/10.ddebbfaf.js"><link rel="prefetch" href="/frontend-notes/assets/js/11.924bad08.js"><link rel="prefetch" href="/frontend-notes/assets/js/12.83359ab0.js"><link rel="prefetch" href="/frontend-notes/assets/js/13.dadb7805.js"><link rel="prefetch" href="/frontend-notes/assets/js/14.483d3ef3.js"><link rel="prefetch" href="/frontend-notes/assets/js/15.74de6baf.js"><link rel="prefetch" href="/frontend-notes/assets/js/16.1c3cc3d9.js"><link rel="prefetch" href="/frontend-notes/assets/js/17.a53f1707.js"><link rel="prefetch" href="/frontend-notes/assets/js/18.73785226.js"><link rel="prefetch" href="/frontend-notes/assets/js/19.88872489.js"><link rel="prefetch" href="/frontend-notes/assets/js/20.7de4249e.js"><link rel="prefetch" href="/frontend-notes/assets/js/21.edbf3f1e.js"><link rel="prefetch" href="/frontend-notes/assets/js/22.f771b51f.js"><link rel="prefetch" href="/frontend-notes/assets/js/23.eb11dc6d.js"><link rel="prefetch" href="/frontend-notes/assets/js/24.5d82d826.js"><link rel="prefetch" href="/frontend-notes/assets/js/25.d555bf5e.js"><link rel="prefetch" href="/frontend-notes/assets/js/26.3f0bf204.js"><link rel="prefetch" href="/frontend-notes/assets/js/27.a4dc2fb1.js"><link rel="prefetch" href="/frontend-notes/assets/js/28.ab8108ac.js"><link rel="prefetch" href="/frontend-notes/assets/js/29.b060f8b5.js"><link rel="prefetch" href="/frontend-notes/assets/js/30.2bb7907c.js"><link rel="prefetch" href="/frontend-notes/assets/js/31.d08b0ded.js"><link rel="prefetch" href="/frontend-notes/assets/js/32.6a627a59.js"><link rel="prefetch" href="/frontend-notes/assets/js/33.fe12e757.js"><link rel="prefetch" href="/frontend-notes/assets/js/35.5f8759ae.js"><link rel="prefetch" href="/frontend-notes/assets/js/36.8ed2c7be.js"><link rel="prefetch" href="/frontend-notes/assets/js/37.df7f6b4c.js"><link rel="prefetch" href="/frontend-notes/assets/js/38.127458ac.js"><link rel="prefetch" href="/frontend-notes/assets/js/39.40da611c.js"><link rel="prefetch" href="/frontend-notes/assets/js/4.58bcecdc.js"><link rel="prefetch" href="/frontend-notes/assets/js/40.0b048f1d.js"><link rel="prefetch" href="/frontend-notes/assets/js/41.46043a89.js"><link rel="prefetch" href="/frontend-notes/assets/js/42.3f0451f6.js"><link rel="prefetch" href="/frontend-notes/assets/js/43.8a281189.js"><link rel="prefetch" href="/frontend-notes/assets/js/44.18af8661.js"><link rel="prefetch" href="/frontend-notes/assets/js/45.8f2dd377.js"><link rel="prefetch" href="/frontend-notes/assets/js/5.bb71e0f7.js"><link rel="prefetch" href="/frontend-notes/assets/js/6.1215cfe2.js"><link rel="prefetch" href="/frontend-notes/assets/js/8.9df58c39.js"><link rel="prefetch" href="/frontend-notes/assets/js/9.e2ae67d5.js">
    <link rel="stylesheet" href="/frontend-notes/assets/css/0.styles.23a50fce.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/frontend-notes/" class="home-link router-link-active"><!----> <span class="site-name">Frontend Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/frontend-notes/" aria-current="page" class="sidebar-link">前言</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>网络</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-notes/network/basics.html" class="sidebar-link">网络基础</a></li><li><a href="/frontend-notes/network/http.html" aria-current="page" class="active sidebar-link">HTTP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-notes/network/http.html#http-1-1" class="sidebar-link">HTTP/1.1</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-notes/network/http.html#持久连接-keep-alive" class="sidebar-link">持久连接（keep-alive）</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/network/http.html#管线化-pipelining" class="sidebar-link">管线化（pipelining）</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/network/http.html#cookie" class="sidebar-link">Cookie</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/network/http.html#虚拟主机" class="sidebar-link">虚拟主机</a></li></ul></li><li class="sidebar-sub-header"><a href="/frontend-notes/network/http.html#状态码" class="sidebar-link">状态码</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/network/http.html#http-2-0" class="sidebar-link">HTTP/2.0</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-notes/network/http.html#多路复用" class="sidebar-link">多路复用</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/network/http.html#请求优先级" class="sidebar-link">请求优先级</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/network/http.html#服务端推送" class="sidebar-link">服务端推送</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/network/http.html#压缩头部" class="sidebar-link">压缩头部</a></li></ul></li><li class="sidebar-sub-header"><a href="/frontend-notes/network/http.html#https" class="sidebar-link">HTTPS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-notes/network/http.html#加密" class="sidebar-link">加密</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/network/http.html#认证" class="sidebar-link">认证</a></li></ul></li></ul></li><li><a href="/frontend-notes/network/http-cache.html" class="sidebar-link">HTTP 缓存</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="http"><a href="#http" class="header-anchor">#</a> HTTP</h1> <p>HTTP（HyperText Transfer Protocol，超文本传输协议）是一种基于文本的、无状态的通信协议，使用 HTTP 协议时，总是由客户端发起请求，然后由服务端返回响应。</p> <div class="image-box" data-v-63754a5e><div class="img" data-v-63754a5e><img src="/frontend-notes/images/http.jpg" data-v-63754a5e></div> <div class="title" data-v-63754a5e>HTTP 交互</div></div> <p>HTTP 请求报文由请求行、请求首部、请求实体（请求首部与请求实体用空行隔开）组成。</p> <div class="image-box" data-v-63754a5e><div class="img" data-v-63754a5e><img src="/frontend-notes/images/http-request.jpg" data-v-63754a5e></div> <div class="title" data-v-63754a5e>HTTP 请求报文</div></div> <p>HTTP 响应报文由状态行、响应首部、响应实体（响应首部与响应实体用空行隔开）组成。</p> <div class="image-box" data-v-63754a5e><div class="img" data-v-63754a5e><img src="/frontend-notes/images/http-response.jpg" data-v-63754a5e></div> <div class="title" data-v-63754a5e>HTTP 响应报文</div></div> <h2 id="http-1-1"><a href="#http-1-1" class="header-anchor">#</a> HTTP/1.1</h2> <h3 id="持久连接-keep-alive"><a href="#持久连接-keep-alive" class="header-anchor">#</a> 持久连接（keep-alive）</h3> <p>在 HTTP/1.1 之前，浏览器每次请求完毕后都会立即断开 TCP 连接，下次请求时再重新建立，这种方式对于以前简单的网页是没有问题的，但是如今的网页包含大量的资源，渲染一个完整的页面往往需要发送多次请求，于是在 HTTP/1.1 中实现了持久连接的技术，在一次请求完毕后不会立即断开 TCP 连接，在等待时间内如果浏览器发起了新的请求，则会复用同一个 TCP 连接，这样做的好处是减少了 TCP 连接握手与挥手的次数，加快了资源的请求速度。</p> <div class="image-box" data-v-63754a5e><div class="img" data-v-63754a5e><img src="/frontend-notes/images/keep-alive.jpg" data-v-63754a5e></div> <div class="title" data-v-63754a5e>HTTP 持久连接</div></div> <h3 id="管线化-pipelining"><a href="#管线化-pipelining" class="header-anchor">#</a> 管线化（pipelining）</h3> <p>在持久连接技术的基础上，管线化技术使得 HTTP 的请求效率再次提高。在管线化技术之前，必须要等待前一次请求返回响应之后才能再次发送请求，而管线化技术可以并行发送多个请求，然后再等待服务器按发送顺序依次返回响应。</p> <div class="image-box" data-v-63754a5e><div class="img" data-v-63754a5e><img src="/frontend-notes/images/pipelining.jpg" data-v-63754a5e></div> <div class="title" data-v-63754a5e>HTTP 管线化</div></div> <h3 id="cookie"><a href="#cookie" class="header-anchor">#</a> Cookie</h3> <p>HTTP 本身是无状态的协议，但是业务开发中却经常需要管理用户的请求状态，遂提出了基于 Cookie 的状态管理技术。在需要状态管理的请求中，服务端返回响应时通过 <strong>Set-Cookie</strong> 首部字段将 Cookie 发送给客户端并保存下来，客户端下次请求时通过 <strong>Cookie</strong> 首部字段将 Cookie 发给服务端，服务端解析 Cookie 之后便能得知用户状态。</p> <div class="image-box" data-v-63754a5e><div class="img" data-v-63754a5e><img src="/frontend-notes/images/cookie-before.jpg" data-v-63754a5e></div> <div class="title" data-v-63754a5e>获取 Cookie 之前</div></div> <div class="image-box" data-v-63754a5e><div class="img" data-v-63754a5e><img src="/frontend-notes/images/cookie-after.jpg" data-v-63754a5e></div> <div class="title" data-v-63754a5e>获取 Cookie 之后</div></div> <h3 id="虚拟主机"><a href="#虚拟主机" class="header-anchor">#</a> 虚拟主机</h3> <p>HTTP/1.1 虚拟主机技术允许在一台物理主机上部署多个站点，在客户端看来就像是多台服务器。这项技术实现的关键在于客户端请求时，要通过首部 <strong>Host</strong> 字段指定主机名或域名，服务端根据该字段做出判断使用对应的服务进行处理。</p> <div class="image-box" data-v-63754a5e><div class="img" data-v-63754a5e><img src="/frontend-notes/images/virtual-host.jpg" data-v-63754a5e></div> <div class="title" data-v-63754a5e>虚拟主机技术</div></div> <h2 id="状态码"><a href="#状态码" class="header-anchor">#</a> 状态码</h2> <p>状态码用于告知客户端本次请求的结果如何，是成功还是失败。</p> <table><thead><tr><th>状态码</th> <th>原因短语</th> <th>意义</th></tr></thead> <tbody><tr><td>2XX</td> <td></td> <td></td></tr> <tr><td>200</td> <td>OK</td> <td>请求成功</td></tr> <tr><td>204</td> <td>No Content</td> <td>请求成功了但是没有实体返回</td></tr> <tr><td>206</td> <td>Partial Content</td> <td>请求成功并返回实体的一部分</td></tr> <tr><td>3XX</td> <td></td> <td></td></tr> <tr><td>301</td> <td>Moved Permanently</td> <td>永久性重定向，客户端应该更新书签中资源的URI</td></tr> <tr><td>302</td> <td>Found</td> <td>临时性重定向，客户端本次应使用新的URI访问</td></tr> <tr><td>303</td> <td>See Other</td> <td>要求客户端用新的URI访问资源</td></tr> <tr><td>304</td> <td>Not Modified</td> <td>表示资源未修改，客户端可以使用缓存</td></tr> <tr><td>307</td> <td>Temporary Redirect</td> <td>与302相同</td></tr> <tr><td>4XX</td> <td></td> <td></td></tr> <tr><td>400</td> <td>Bad Request</td> <td>请求报文错误</td></tr> <tr><td>401</td> <td>Unauthorized</td> <td>用户认证失败</td></tr> <tr><td>403</td> <td>Forbidden</td> <td>资源被禁止访问</td></tr> <tr><td>404</td> <td>Not Found</td> <td>资源未找到</td></tr> <tr><td>5XX</td> <td></td> <td></td></tr> <tr><td>500</td> <td>Internal Server Error</td> <td>服务器内部发生错误</td></tr> <tr><td>503</td> <td>Service Unavailable</td> <td>服务不可用</td></tr></tbody></table> <h2 id="http-2-0"><a href="#http-2-0" class="header-anchor">#</a> HTTP/2.0</h2> <h3 id="多路复用"><a href="#多路复用" class="header-anchor">#</a> 多路复用</h3> <p>同一个TCP连接，可以并行发送多个HTTP请求，顺序是任意的，与管线化的区别就是，服务端不必按顺序响应，每个请求有各自的id，按照id响应就好了，不会发生线头阻塞的问题。</p> <h3 id="请求优先级"><a href="#请求优先级" class="header-anchor">#</a> 请求优先级</h3> <p>为每个请求分配一个优先级序号，优先处理重要的请求。</p> <h3 id="服务端推送"><a href="#服务端推送" class="header-anchor">#</a> 服务端推送</h3> <p>服务器可以对一个客户端请求发送多个响应，服务器向客户端推送资源无需客户端明确的请求。比如浏览器向服务器请求 HTML 文件时，服务器可以顺带将 HTML 文件中引用的其他资源一起返回，省去了浏览器的请求时间。</p> <h3 id="压缩头部"><a href="#压缩头部" class="header-anchor">#</a> 压缩头部</h3> <p>采用了新的头部压缩算法，减少了头部的传输大小。</p> <h2 id="https"><a href="#https" class="header-anchor">#</a> HTTPS</h2> <p>HTTP 本身存在一些安全问题：</p> <ol><li>数据通过明文传输，机密信息容易被中间人窃听；</li> <li>中间人可以在通信双方毫无察觉的情况下窜改数据。</li></ol> <p>为了解决这些问题需要使用 HTTPS。HTTPS 并非应用层的新协议，而是将原本 HTTP 直接和 TCP 讯通改为了先和 SSL/TLS 通讯，再由 SSL/TLS 和 TCP 通讯。</p> <blockquote><p>SSL: Secure Socket Layer</p> <p>TLS: Transport Layer Security</p></blockquote> <div class="image-box" data-v-63754a5e><div class="img" data-v-63754a5e><img src="/frontend-notes/images/https.jpg" data-v-63754a5e></div> <div class="title" data-v-63754a5e>HTTP 与 HTTPS</div></div> <h3 id="加密"><a href="#加密" class="header-anchor">#</a> 加密</h3> <p>HTTPS 使用加密技术对数据加密后进行传输，避免数据被窃听。加密技术可以分为：</p> <ol><li>对称加密。</li></ol> <blockquote><p>使用密钥对数据加密后，只能用相同的密钥解密，加密效率高，但是一旦密钥被中间人获取，加密就失去了意义。</p></blockquote> <ol start="2"><li>非对称加密。</li></ol> <blockquote><p>密钥分为公钥和私钥，使用公钥加密的数据只能用私钥解密，使用私钥加密的数据只能用公钥解密，而且加密效率相比于对称加密要低很多。</p></blockquote> <p>HTTPS 采用了将两者结合使用的方案，具体交互步骤如下：</p> <ol><li>服务器保有一对非对称加密密钥：公钥 A 和 私钥 A'。客户端发起建立 HTTPS 连接时，服务器将自己的公钥 A 发给客户端；</li> <li>客户端随机生成一个对称加密的密钥 B，并用服务器的公钥 A 加密后发给服务器；</li> <li>服务器用自己的私钥 A' 解密得到密钥 B；</li> <li>此后连接的请求报文和响应报文都通过密钥 B 来加密和解密。</li></ol> <p>但是，目前为止还存在着一个漏洞：客户端收到的公钥不一定是服务器的公钥，可能已经被中间人掉包换成中间人的公钥。解决这个问题需要使用数字证书认证。</p> <h3 id="认证"><a href="#认证" class="header-anchor">#</a> 认证</h3> <p>数字证书是由 CA 机构颁发的，CA 机构可以认为是互联网中值得信任的机构，操作系统里一般都会内置一些 CA 机构的根证书，通过根证书可以验证数字证书是否真实可靠（其验证原理也是利用非对称加密技术）。具体来说，服务器所属公司首先向 CA 机构为自己的公钥申请数字证书，客户端发起 HTTPS 连接时，服务器将数字证书（内含公钥）发给客户端，客户端验证证书有效后取出公钥，完成后续操作。总结来说，通过认证技术，客户端可以判断收到的公钥是不是真的来自于目标服务器，有了这个保证就可以放心的使用加密技术进行通讯了。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2021/12/12 23:43:08</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frontend-notes/network/basics.html" class="prev">
        网络基础
      </a></span> <span class="next"><a href="/frontend-notes/network/http-cache.html">
        HTTP 缓存
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/frontend-notes/assets/js/app.814f50f7.js" defer></script><script src="/frontend-notes/assets/js/2.ef01d5d6.js" defer></script><script src="/frontend-notes/assets/js/34.b4b1f706.js" defer></script><script src="/frontend-notes/assets/js/7.1994cef1.js" defer></script><script src="/frontend-notes/assets/js/3.7cfb19be.js" defer></script>
  </body>
</html>
