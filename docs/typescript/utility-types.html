<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>工具类型 | Frontend Notes</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/frontend-notes/logo.jpg">
    <link rel="manifest" href="/frontend-notes/manifest.json">
    <meta name="description" content="前端知识点">
    <meta name="theme-color" content="#3eaf7c">
    
    <link rel="preload" href="/frontend-notes/assets/css/0.styles.23a50fce.css" as="style"><link rel="preload" href="/frontend-notes/assets/js/app.c157e436.js" as="script"><link rel="preload" href="/frontend-notes/assets/js/2.ef01d5d6.js" as="script"><link rel="preload" href="/frontend-notes/assets/js/41.d52e6918.js" as="script"><link rel="preload" href="/frontend-notes/assets/js/3.7cfb19be.js" as="script"><link rel="prefetch" href="/frontend-notes/assets/js/10.d61f9bb6.js"><link rel="prefetch" href="/frontend-notes/assets/js/11.6823b723.js"><link rel="prefetch" href="/frontend-notes/assets/js/12.7c74ac54.js"><link rel="prefetch" href="/frontend-notes/assets/js/13.3fc63725.js"><link rel="prefetch" href="/frontend-notes/assets/js/14.306d2239.js"><link rel="prefetch" href="/frontend-notes/assets/js/15.12daa6dd.js"><link rel="prefetch" href="/frontend-notes/assets/js/16.e3ca0542.js"><link rel="prefetch" href="/frontend-notes/assets/js/17.5d2d6159.js"><link rel="prefetch" href="/frontend-notes/assets/js/18.aedc669e.js"><link rel="prefetch" href="/frontend-notes/assets/js/19.4f73b576.js"><link rel="prefetch" href="/frontend-notes/assets/js/20.0b5dec95.js"><link rel="prefetch" href="/frontend-notes/assets/js/21.60c988ae.js"><link rel="prefetch" href="/frontend-notes/assets/js/22.93e3522f.js"><link rel="prefetch" href="/frontend-notes/assets/js/23.55b0fec2.js"><link rel="prefetch" href="/frontend-notes/assets/js/24.7352cb66.js"><link rel="prefetch" href="/frontend-notes/assets/js/25.d64472a6.js"><link rel="prefetch" href="/frontend-notes/assets/js/26.3d53da46.js"><link rel="prefetch" href="/frontend-notes/assets/js/27.f7ae7cf7.js"><link rel="prefetch" href="/frontend-notes/assets/js/28.b88ccfa2.js"><link rel="prefetch" href="/frontend-notes/assets/js/29.33855885.js"><link rel="prefetch" href="/frontend-notes/assets/js/30.a74efb55.js"><link rel="prefetch" href="/frontend-notes/assets/js/31.b03083ea.js"><link rel="prefetch" href="/frontend-notes/assets/js/32.8b44c559.js"><link rel="prefetch" href="/frontend-notes/assets/js/33.1a070cab.js"><link rel="prefetch" href="/frontend-notes/assets/js/34.6ed4eae3.js"><link rel="prefetch" href="/frontend-notes/assets/js/35.f80e3f31.js"><link rel="prefetch" href="/frontend-notes/assets/js/36.c7b63e5e.js"><link rel="prefetch" href="/frontend-notes/assets/js/37.62b23e77.js"><link rel="prefetch" href="/frontend-notes/assets/js/38.1a464df1.js"><link rel="prefetch" href="/frontend-notes/assets/js/39.95c5d1d9.js"><link rel="prefetch" href="/frontend-notes/assets/js/4.cd00349e.js"><link rel="prefetch" href="/frontend-notes/assets/js/40.b82b5feb.js"><link rel="prefetch" href="/frontend-notes/assets/js/42.26c0b7d3.js"><link rel="prefetch" href="/frontend-notes/assets/js/5.bb71e0f7.js"><link rel="prefetch" href="/frontend-notes/assets/js/6.1215cfe2.js"><link rel="prefetch" href="/frontend-notes/assets/js/7.1994cef1.js"><link rel="prefetch" href="/frontend-notes/assets/js/8.9df58c39.js"><link rel="prefetch" href="/frontend-notes/assets/js/9.e2ae67d5.js">
    <link rel="stylesheet" href="/frontend-notes/assets/css/0.styles.23a50fce.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/frontend-notes/" class="home-link router-link-active"><!----> <span class="site-name">Frontend Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/frontend-notes/" aria-current="page" class="sidebar-link">前言</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>TypeScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-notes/typescript/advance.html" class="sidebar-link">进阶知识</a></li><li><a href="/frontend-notes/typescript/utility-types.html" aria-current="page" class="active sidebar-link">工具类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-notes/typescript/utility-types.html#_1-partial-type" class="sidebar-link">1. Partial&lt;Type&gt;</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/typescript/utility-types.html#_2-required-type" class="sidebar-link">2. Required&lt;Type&gt;</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/typescript/utility-types.html#_3-readonly-type" class="sidebar-link">3. Readonly&lt;Type&gt;</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/typescript/utility-types.html#_4-record-keys-type" class="sidebar-link">4. Record&lt;Keys, Type&gt;</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/typescript/utility-types.html#_5-pick-type-keys" class="sidebar-link">5. Pick&lt;Type, Keys&gt;</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/typescript/utility-types.html#_6-omit-type-keys" class="sidebar-link">6. Omit&lt;Type, Keys&gt;</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/typescript/utility-types.html#_7-exclude-type-excludeunion" class="sidebar-link">7. Exclude&lt;Type, ExcludeUnion&gt;</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/typescript/utility-types.html#_8-extract-type-union" class="sidebar-link">8. Extract&lt;Type, Union&gt;</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/typescript/utility-types.html#_9-nonnullable-type" class="sidebar-link">9. NonNullable&lt;Type&gt;</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/typescript/utility-types.html#_10-parameters-type" class="sidebar-link">10. Parameters&lt;Type&gt;</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/typescript/utility-types.html#_11-construcorparameters-type" class="sidebar-link">11. ConstrucorParameters&lt;Type&gt;</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/typescript/utility-types.html#_12-returntype-type" class="sidebar-link">12. ReturnType&lt;Type&gt;</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/typescript/utility-types.html#_13-instancetype-type" class="sidebar-link">13. InstanceType&lt;Type&gt;</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/typescript/utility-types.html#_14-thisparametertype-type" class="sidebar-link">14. ThisParameterType&lt;Type&gt;</a></li><li class="sidebar-sub-header"><a href="/frontend-notes/typescript/utility-types.html#_15-omitthisparameter-type" class="sidebar-link">15. OmitThisParameter&lt;Type&gt;</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="工具类型"><a href="#工具类型" class="header-anchor">#</a> 工具类型</h1> <p>本文介绍 TypeScript 内置的工具类型用法与实现原理。</p> <h2 id="_1-partial-type"><a href="#_1-partial-type" class="header-anchor">#</a> 1. Partial&lt;Type&gt;</h2> <p>基于类型 <strong>Type</strong> 构造一个新类型，使它的所有属性变成可选的。</p> <p>示例：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  description<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">PartialBook</span> <span class="token operator">=</span> Partial<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// 等价于</span>

<span class="token keyword">type</span> <span class="token class-name">PartialBook</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  description<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>原理：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Partial<span class="token operator">&lt;</span>Type<span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> Type<span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> Type<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_2-required-type"><a href="#_2-required-type" class="header-anchor">#</a> 2. Required&lt;Type&gt;</h2> <p>基于类型 <strong>Type</strong> 构造一个新类型，使它的所有属性变成必选的。</p> <p>示例：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  description<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">RequiredBook</span> <span class="token operator">=</span> Required<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// 等价于</span>

<span class="token keyword">type</span> <span class="token class-name">RequiredBook</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  description<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>原理：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Required<span class="token operator">&lt;</span>Type<span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> Type<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token operator">:</span> Type<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_3-readonly-type"><a href="#_3-readonly-type" class="header-anchor">#</a> 3. Readonly&lt;Type&gt;</h2> <p>基于类型 <strong>Type</strong> 构造一个新类型，使它的所有属性变成只读的。</p> <p>示例：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  description<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">ReadonlyBook</span> <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// 等价于</span>

<span class="token keyword">type</span> <span class="token class-name">ReadonlyBook</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token keyword">readonly</span> description<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>原理：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Readonly<span class="token operator">&lt;</span>Type<span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> Type<span class="token punctuation">]</span><span class="token operator">:</span> Type<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_4-record-keys-type"><a href="#_4-record-keys-type" class="header-anchor">#</a> 4. Record&lt;Keys, Type&gt;</h2> <p>构造一个对象类型，它的属性名类型是 <strong>Keys</strong> 并且属性值类型是 <strong>Type</strong>。</p> <p>示例：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Cat</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  breed<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">Cats</span> <span class="token operator">=</span> Record<span class="token operator">&lt;</span><span class="token string">&quot;miffy&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;boris&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;mordred&quot;</span><span class="token punctuation">,</span> Cat<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// 等价于</span>

<span class="token keyword">type</span> <span class="token class-name">Cats</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  miffy<span class="token operator">:</span> Cat<span class="token punctuation">;</span>
  boris<span class="token operator">:</span> Cat<span class="token punctuation">;</span>
  mordred<span class="token operator">:</span> Cat<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>原理：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Record<span class="token operator">&lt;</span>Keys <span class="token keyword">extends</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">symbol</span><span class="token punctuation">,</span> Type<span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> Keys<span class="token punctuation">]</span><span class="token operator">:</span> Type<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_5-pick-type-keys"><a href="#_5-pick-type-keys" class="header-anchor">#</a> 5. Pick&lt;Type, Keys&gt;</h2> <p>从类型 <strong>Type</strong> 上选取包含在 <strong>Keys</strong> 中的属性并构造出一个新的类型。</p> <p>示例：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Todo</span> <span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  description<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  completed<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">TodoPreview</span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span>Todo<span class="token punctuation">,</span> <span class="token string">&quot;title&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;completed&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// 等价于</span>

<span class="token keyword">type</span> <span class="token class-name">TodoPreview</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  completed<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>原理：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Pick<span class="token operator">&lt;</span>Type<span class="token punctuation">,</span> Keys <span class="token keyword">extends</span> <span class="token keyword">keyof</span> Type<span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> Keys<span class="token punctuation">]</span><span class="token operator">:</span> Type<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_6-omit-type-keys"><a href="#_6-omit-type-keys" class="header-anchor">#</a> 6. Omit&lt;Type, Keys&gt;</h2> <p>从类型 <strong>Type</strong> 上忽略掉包含在 <strong>Keys</strong> 中的属性并构造出一个新的类型。</p> <p>示例：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Todo</span> <span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  description<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  completed<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  createdAt<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">TodoPreview</span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>Todo<span class="token punctuation">,</span> <span class="token string">&quot;description&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// 等价于</span>

<span class="token keyword">type</span> <span class="token class-name">TodoPreview</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  completed<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  createdAt<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>原理：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Omit<span class="token operator">&lt;</span>Type<span class="token punctuation">,</span> Keys <span class="token keyword">extends</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">symbol</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> Exclude<span class="token operator">&lt;</span><span class="token keyword">keyof</span> Type<span class="token punctuation">,</span> Keys<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token operator">:</span> Type<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_7-exclude-type-excludeunion"><a href="#_7-exclude-type-excludeunion" class="header-anchor">#</a> 7. Exclude&lt;Type, ExcludeUnion&gt;</h2> <p>从类型 <strong>Type</strong> 中剔除包含在 <strong>ExcludeUnion</strong> 中的类型，将剩下的类型构造成新的类型。</p> <p>示例：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T</span></span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;b&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;b&quot; | &quot;c&quot;</span>
</code></pre></div><p>原理：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Exclude<span class="token operator">&lt;</span>Type<span class="token punctuation">,</span> ExcludeUnion<span class="token operator">&gt;</span></span> <span class="token operator">=</span> Type <span class="token keyword">extends</span> <span class="token class-name">ExcludeUnion</span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token operator">:</span> Type<span class="token punctuation">;</span>
</code></pre></div><h2 id="_8-extract-type-union"><a href="#_8-extract-type-union" class="header-anchor">#</a> 8. Extract&lt;Type, Union&gt;</h2> <p>从类型 <strong>Type</strong> 中提取出所有包含在 <strong>Union</strong> 中的类型并构造成新的类型。</p> <p>示例：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T</span></span> <span class="token operator">=</span> Extract<span class="token operator">&lt;</span><span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;b&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;f&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;a&quot;</span>
</code></pre></div><p>原理：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Extract<span class="token operator">&lt;</span>Type<span class="token punctuation">,</span> Union<span class="token operator">&gt;</span></span> <span class="token operator">=</span> Type <span class="token keyword">extends</span> <span class="token class-name">Union</span> <span class="token operator">?</span> Type <span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_9-nonnullable-type"><a href="#_9-nonnullable-type" class="header-anchor">#</a> 9. NonNullable&lt;Type&gt;</h2> <p>从类型 <strong>Type</strong> 中剔除掉 <strong>null</strong> 和 <strong>undefined</strong> 并构造成新的类型。</p> <p>示例：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T</span></span> <span class="token operator">=</span> NonNullable<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// string | number</span>
</code></pre></div><p>原理：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">NonNullable<span class="token operator">&lt;</span>Type<span class="token operator">&gt;</span></span> <span class="token operator">=</span> Type <span class="token keyword">extends</span> <span class="token class-name"><span class="token keyword">null</span></span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token operator">:</span> Type<span class="token punctuation">;</span>
</code></pre></div><h2 id="_10-parameters-type"><a href="#_10-parameters-type" class="header-anchor">#</a> 10. Parameters&lt;Type&gt;</h2> <p>将函数类型 <strong>Type</strong> 的参数类型构造成一个元组类型。</p> <p>示例：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T</span></span> <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// [name: string, age: number]</span>
</code></pre></div><p>原理：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Parameters<span class="token operator">&lt;</span>Type <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">=</span> Type <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token keyword">infer</span> <span class="token constant">P</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span> <span class="token operator">?</span> <span class="token constant">P</span> <span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_11-construcorparameters-type"><a href="#_11-construcorparameters-type" class="header-anchor">#</a> 11. ConstrucorParameters&lt;Type&gt;</h2> <p>将构造函数类型 <strong>Type</strong> 的参数类型构造成一个元组类型或数组类型。</p> <p>示例：</p> <div class="language-TS extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Ctor1</span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> Ctor1
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token operator">=</span> ConstructorParameters<span class="token operator">&lt;</span>Ctor1<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// string[]</span>

<span class="token keyword">interface</span> <span class="token class-name">Ctor2</span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> Ctor2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T2</span></span> <span class="token operator">=</span> ConstructorParameters<span class="token operator">&lt;</span>Ctor2<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// [name: string, age: number]</span>
</code></pre></div><p>原理：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">ConstructorParameters<span class="token operator">&lt;</span>Type <span class="token keyword">extends</span> <span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">=</span> Type <span class="token keyword">extends</span> <span class="token class-name"><span class="token keyword">new</span></span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token keyword">infer</span> <span class="token constant">P</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span> <span class="token operator">?</span> <span class="token constant">P</span> <span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_12-returntype-type"><a href="#_12-returntype-type" class="header-anchor">#</a> 12. ReturnType&lt;Type&gt;</h2> <p>构造一个函数类型 <strong>Type</strong> 的返回值的类型。</p> <p>示例：</p> <div class="language-TS extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T0</span></span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// string</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// {name: string; age: number}</span>
</code></pre></div><p>原理：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">ReturnType<span class="token operator">&lt;</span>Type <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">=</span> Type <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">infer</span> <span class="token constant">R</span> <span class="token operator">?</span> <span class="token constant">R</span> <span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_13-instancetype-type"><a href="#_13-instancetype-type" class="header-anchor">#</a> 13. InstanceType&lt;Type&gt;</h2> <p>根据一个构造函数的类型 <strong>Type</strong> 构造出它的实例类型。</p> <p>示例：</p> <div class="language-TS extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Ctor</span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Ctor<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T0</span></span> <span class="token operator">=</span> InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> Dog<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// Dog</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token operator">=</span> InstanceType<span class="token operator">&lt;</span>Ctor<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// Ctor</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T2</span></span> <span class="token operator">=</span> InstanceType<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// any</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T3</span></span> <span class="token operator">=</span> InstanceType<span class="token operator">&lt;</span><span class="token builtin">never</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// never</span>
</code></pre></div><p>原理：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">InstanceType<span class="token operator">&lt;</span>Type <span class="token keyword">extends</span> <span class="token keyword">abstract</span> <span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">=</span> Type <span class="token keyword">extends</span> <span class="token class-name"><span class="token keyword">abstract</span></span> <span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">infer</span> <span class="token constant">I</span> <span class="token operator">?</span> <span class="token constant">I</span> <span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_14-thisparametertype-type"><a href="#_14-thisparametertype-type" class="header-anchor">#</a> 14. ThisParameterType&lt;Type&gt;</h2> <p>提取一个函数类型 <strong>Type</strong> 中 this 参数的类型，如果没有 this 参数则提取为 <strong>unknown</strong>。</p> <p>示例：</p> <div class="language-TS extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">toHex</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T</span></span> <span class="token operator">=</span> ThisParameterType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> toHex<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// number</span>
</code></pre></div><p>原理：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">ThisParameterType<span class="token operator">&lt;</span>Type<span class="token operator">&gt;</span></span> <span class="token operator">=</span> Type <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> <span class="token keyword">infer</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span> <span class="token operator">?</span> <span class="token constant">T</span> <span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_15-omitthisparameter-type"><a href="#_15-omitthisparameter-type" class="header-anchor">#</a> 15. OmitThisParameter&lt;Type&gt;</h2> <p>构造一个类型，它是忽略 <strong>Type</strong> 的 this 参数之后的新类型</p> <p>示例：</p> <div class="language-TS extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span> <span class="token operator">+</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token operator">=</span> OmitThisParameter<span class="token operator">&lt;</span><span class="token keyword">typeof</span> f1<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// (value: number) =&gt; number</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T2</span></span> <span class="token operator">=</span> OmitThisParameter<span class="token operator">&lt;</span><span class="token keyword">typeof</span> f2<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// (value: number) =&gt; number</span>

<span class="token keyword">type</span> <span class="token class-name">t3</span> <span class="token operator">=</span> OmitThisParameter<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// any</span>
</code></pre></div><p>原理：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">OmitThisParameter<span class="token operator">&lt;</span>Type<span class="token operator">&gt;</span></span> <span class="token operator">=</span> Type <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token operator">:</span> <span class="token keyword">infer</span> <span class="token constant">P</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">infer</span> <span class="token constant">R</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token constant">P</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">R</span> <span class="token operator">:</span> Type<span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2021/11/30 14:25:54</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frontend-notes/typescript/advance.html" class="prev">
        进阶知识
      </a></span> <span class="next"><a href="/frontend-notes/browser/ServiceWorker.html">
        Service Worker
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/frontend-notes/assets/js/app.c157e436.js" defer></script><script src="/frontend-notes/assets/js/2.ef01d5d6.js" defer></script><script src="/frontend-notes/assets/js/41.d52e6918.js" defer></script><script src="/frontend-notes/assets/js/3.7cfb19be.js" defer></script>
  </body>
</html>
